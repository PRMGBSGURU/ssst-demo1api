### Base URL
@baseUrl = http://localhost:3000
@contentType = application/json

### 1. Health Check
GET {{baseUrl}}/

### 2. Login - Admin User
POST {{baseUrl}}/login
Content-Type: {{contentType}}

{
  "username": "admin",
  "password": "password123"
}

### 3. Login - Regular User
POST {{baseUrl}}/login
Content-Type: {{contentType}}

{
  "username": "user",
  "password": "user123"
}

### 4. Login - Invalid Credentials (Will fail)
POST {{baseUrl}}/login
Content-Type: {{contentType}}

{
  "username": "admin",
  "password": "wrongpassword"
}

### 5. Database User Login (MySQL Validation)
POST {{baseUrl}}/userlogin
Content-Type: {{contentType}}

{
  "emailid": "user@example.com",
  "password": "your_password_here"
}

### 6. User Registration (New Endpoint)
POST {{baseUrl}}/newregistration
Content-Type: {{contentType}}

{
  "surname": "Doe",
  "lastname": "John",
  "emailid": "john.doe@example.com",
  "mobilenumber": "+911234567890",
  "whatsappnumber": "+911234567890",
  "password": "SecurePassword123!"
}

### 7. User Registration - Example 2
POST {{baseUrl}}/newregistration
Content-Type: {{contentType}}

{
  "surname": "Smith",
  "lastname": "Jane",
  "emailid": "jane.smith@example.com",
  "mobilenumber": "+919876543210",
  "whatsappnumber": "+919876543210",
  "password": "AnotherSecurePass123!"
}

### 8. Access Protected Route (Replace TOKEN with actual token from login)
GET {{baseUrl}}/protected
Authorization: Bearer TOKEN

### 9. Get User Profile (Protected)
GET {{baseUrl}}/profile
Authorization: Bearer TOKEN

### ============================================================================
### PASSWORD RESET API TESTS
### ============================================================================

### 10. Request OTP for Password Reset
POST {{baseUrl}}/passwordreset/request-otp
Content-Type: {{contentType}}

{
  "emailId": "user@example.com"
}

### 11. Verify OTP and Reset Password
POST {{baseUrl}}/passwordreset/verify-otp
Content-Type: {{contentType}}

{
  "emailId": "user@example.com",
  "otp": "123456",
  "newPassword": "NewSecurePassword123"
}

### 12. Request OTP - Alternative User
POST {{baseUrl}}/passwordreset/request-otp
Content-Type: {{contentType}}

{
  "emailId": "admin@example.com"
}

### 13. Verify OTP - With Invalid OTP (will fail)
POST {{baseUrl}}/passwordreset/verify-otp
Content-Type: {{contentType}}

{
  "emailId": "user@example.com",
  "otp": "000000",
  "newPassword": "NewSecurePassword123"
}

### 14. Check OTP Status for User
GET {{baseUrl}}/passwordreset/otp-status/1

### Notes:
###
### For /userlogin endpoint:
### 1. Make sure MySQL database "ssst-demo1" exists locally
### 2. Make sure "Users" table has "EmailID" and "Password" columns
### 3. Update emailid and password with actual database values
### 4. Password can be plain text or bcrypt hashed
###
### For token-based endpoints:
### 1. First, login with /login or /userlogin to get a token
### 2. Copy the token value from the response
### 3. Replace "TOKEN" in the protected route requests with the actual token
### 4. You can use VS Code REST Client extension to run these requests
###    Install: "REST Client" by Huachao Mao
###
### For Password Reset:
### 1. First, run "Request OTP for Password Reset" (request #10)
### 2. Check console logs for the generated OTP (in development mode)
### 3. Copy OTP and update request #11 with the actual OTP code
### 4. Run "Verify OTP and Reset Password" to complete password reset
### 5. Monitor email/SMS for actual OTP delivery
###
